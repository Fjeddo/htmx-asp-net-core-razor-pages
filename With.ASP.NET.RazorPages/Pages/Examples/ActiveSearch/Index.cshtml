@page
@model With.ASP.NET.RazorPages.Pages.Examples.ActiveSearch.IndexModel

<h3>
    Search Contacts
</h3>

<input class="form-control" type="search"
       name="search" placeholder="Begin Typing To Search Users..."
       hx-post=""
       hx-trigger="input changed delay:500ms, keyup[key=='Enter'], load"
       hx-target="#search-results"
       hx-indicator=".htmx-indicator"/>
<span class="htmx-indicator">
    <img src="/img/bars.svg"/> Searching...
</span>

<table>
    <thead>
    <tr>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Email</th>
    </tr>
    </thead>
    <tbody id="search-results">
        @await Html.PartialAsync("Contacts", Data.Db.Contacts)
    </tbody>
    
</table>

<partial name="_AntiForgery" />